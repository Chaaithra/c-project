pipeline { 
  agent { label 'project1agent' } 
  tools { 
    jdk 'java17'     // ✅ Must match the name configured in Jenkins
    maven 'Maven3'    // ✅ Also match the exact Maven tool name
}
stages{
  stage("Cleanup Workspace"){ 
          steps { 
          cleanWs()
          } 
    } 
  stage("Checkout from SCM"){ 
            steps { 
            git branch: 'main' , credentialsId: 'github' , url: 'https://github.com/chaaithra/c-project'
          }
} 

    stages{
        stage("Build Application"){
            steps {
                sh 'make'
                  }
            }
        }

        stage("Test Application"){
            steps {
                sh 'make test' // or './your_test_binary'
            }
        } 
    } 
}
