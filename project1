pipeline { 
  agent { label 'project1agent' } 
  tools { 
      jdk 'Java17' 
      maven 'Maven3'
}
stages{
  stage("Cleanup Workspace"){ 
          steps { 
          cleanWS()
          } 
    } 
  stage("checkout from SCM"){ 
            steps { 
            git branch: 'main' , credentialsID: 'github' , url: 'https://github.com/chaaithra/c-project'
          }
} 
    stage("Build Application"){ 
            steps { 
            sh "mvn clean package" 
          }
} 
      stage("Test Applicatiom"){ 
              steps {
                    sh "mvn test" 
            }
        } 
    } 
}
